{"mappings":"AACA,MAEMA,EAAU,CACdC,QAAS,CACP,YAJY,qCCEhB,MAAMC,EAAO,CACXC,oBAAqBC,SAASC,cAAc,0BAC5CC,YAAaF,SAASC,cAAc,aAIhCE,EAAiB,IDAR,MACbC,cACEC,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,CAGdC,gBACE,MAAMC,EAAM,uCAA4BJ,KAAKC,2CAA2CD,KAAKE,OAO7F,OAAOG,MAAMD,EAAKb,GACfe,MAAKC,GAAWA,EAAQC,SACxBF,MAAK,EAACG,SAAEA,MACPT,KAAKE,MAAQ,EACNO,I,CAGbC,YACEV,KAAKE,KAAO,C,CAGVS,YACF,OAAOX,KAAKC,W,CAGVU,UAAMC,GACRZ,KAAKC,YAAcW,C,GC7BjBC,EAAgB,ICVP,MACbd,aAAYe,SAAEA,EAAQC,OAAEA,GAAS,IAC/Bf,KAAKgB,KAAOhB,KAAKiB,QAAQH,GAEzBC,GAAUf,KAAKkB,M,CAEjBD,QAAQH,GACN,MAAME,EAAO,GAIb,OAHAA,EAAKG,OAASxB,SAASC,cAAckB,GACrCE,EAAKI,OAASJ,EAAKG,OAAOvB,cAAc,WACxCoB,EAAKK,MAAQL,EAAKG,OAAOvB,cAAc,UAChCoB,C,CAGTM,SACEtB,KAAKgB,KAAKG,QAAS,EACnBnB,KAAKgB,KAAKK,MAAME,YAAc,WAC9BvB,KAAKgB,KAAKI,OAAOI,UAAUC,IAAI,Y,CAGjCC,UACE1B,KAAKgB,KAAKG,QAAS,EACnBnB,KAAKgB,KAAKK,MAAME,YAAc,UAC9BvB,KAAKgB,KAAKI,OAAOI,UAAUG,OAAO,Y,CAGpCC,OACE5B,KAAKgB,KAAKG,OAAOK,UAAUG,OAAO,Y,CAGpCT,OACElB,KAAKgB,KAAKG,OAAOK,UAAUC,IAAI,Y,GDrBG,CACpCX,SAAU,4BACVC,QAAQ,IAkCV,SAASc,EAAoBpB,GAC3B,OAAOA,EACJqB,KAAIC,GACI,iCAEAA,EAAQ3B,kCACX2B,EAAQC,6BACFD,EAAQE,8DAEfF,EAAQG,sBACRH,EAAQI,yCAIZC,KAAK,G,CA7CVC,QAAQC,IAAIzB,GAEZpB,EAAKI,YAAY0C,iBAAiB,UAGlC,SAA+BC,GAI7B,GAHAA,EAAEC,iBACF3C,EAAea,MAAQ6B,EAAEE,cAAcC,SAASC,UAAUC,MAE7B,KAAzB/C,EAAea,MACjB,OAAOmC,MAAM,6BAGfhD,EAAeY,YACfG,EAAce,OAmCdnC,EAAKC,oBAAoBqD,UAAY,GA/BrCjD,EAAeK,gBAAgBG,MAAKG,IAClC,MAAMuC,EAASnB,EAAoBpB,GACnChB,EAAKC,oBAAoBuD,mBAAmB,YAAaD,EAAO,G","sources":["src/js/lesson-10/news-api-service.js","src/js/lesson-10/pagination.js","src/js/lesson-10/load-mor-Btn.js"],"sourcesContent":["import axios from 'axios';\nconst API_KEY = 'a084699e34654c649a85877972cf0cce';\nconst BASE_URL = 'https://newsapi.org/v2';\nconst options = {\n  headers: {\n    'X-Api-Key': API_KEY,\n  },\n};\n\nexport default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    const url = `${BASE_URL}/everything?q=${this.searchQuery}&language=en&pageSize=5&page=${this.page}`;\n    // потрибно доопрацювати відео axios 1.33\n    // return axios.get(url, options).then(({ articles }) => {\n    //   this.page += 1;\n    //   return articles;\n    // });\n\n    return fetch(url, options)\n      .then(respons => respons.json())\n      .then(({ articles }) => {\n        this.page += 1;\n        return articles;\n      });\n  }\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n","import NewsApiService from './news-api-service';\nimport LoadMoreBtn from './load-mor-Btn';\n\nconst refs = {\n  articleContainerRef: document.querySelector('.js-articles-container'),\n  newsFormRef: document.querySelector('.js-form'),\n  // loadMorRef: document.querySelector('.js-load-mor'),\n};\n\nconst newsApiSwrvice = new NewsApiService();\nconst loadMorButton = new LoadMoreBtn({\n  selector: '[data-action=\"load-more\"]',\n  hidden: true,\n});\n\nconsole.log(loadMorButton);\n\nrefs.newsFormRef.addEventListener('submit', hendleSearchFormClick);\n// loadMorButton.refs.button.addEventListener('click', hendleloadMorClick);\n\nfunction hendleSearchFormClick(e) {\n  e.preventDefault();\n  newsApiSwrvice.query = e.currentTarget.elements.queryNews.value;\n\n  if (newsApiSwrvice.query === '') {\n    return alert('enter the correct request');\n  }\n\n  newsApiSwrvice.resetPage();\n  loadMorButton.show();\n\n  clearArticleContainer();\n\n  newsApiSwrvice.fetchArticles().then(articles => {\n    const markup = appendArticleMarkup(articles);\n    refs.articleContainerRef.insertAdjacentHTML('beforeend', markup);\n  });\n}\n\nfunction hendleloadMorClick() {\n  newsApiSwrvice.fetchArticles().then(articles => {\n    const markup = appendArticleMarkup(articles);\n    refs.articleContainerRef.insertAdjacentHTML('beforeend', markup);\n  });\n}\n\nfunction appendArticleMarkup(articles) {\n  return articles\n    .map(article => {\n      return `<li>\n  <article>\n  <a href=\"${article.url}\" target=\"_blank\">\n    <h2>${article.title}</h2>\n    <img src=\"${article.urlToImage}\" alt=\"something\" width=\"200\" />\n  </a>\n    <p>${article.author}</p>\n    <p>${article.description}</p>\n  </article>\n</li>`;\n    })\n    .join('');\n}\n\nfunction clearArticleContainer() {\n  refs.articleContainerRef.innerHTML = '';\n}\n","export default class LoadMoreBtn {\n  constructor({ selector, hidden = false }) {\n    this.refs = this.getRefs(selector);\n\n    hidden && this.hide();\n  }\n  getRefs(selector) {\n    const refs = {};\n    refs.button = document.querySelector(selector);\n    refs.spiner = refs.button.querySelector('.spiner');\n    refs.label = refs.button.querySelector('.label');\n    return refs;\n  }\n\n  enable() {\n    this.refs.button = false;\n    this.refs.label.textContent = 'Show mor';\n    this.refs.spiner.classList.add('is-hidden');\n  }\n\n  disable() {\n    this.refs.button = true;\n    this.refs.label.textContent = 'Load...';\n    this.refs.spiner.classList.remove('is-hidden');\n  }\n\n  show() {\n    this.refs.button.classList.remove('is-hidden');\n  }\n\n  hide() {\n    this.refs.button.classList.add('is-hidden');\n  }\n}\n"],"names":["$0b17773b9496bdf5$var$options","headers","$8a1d1fbb88b9f958$var$refs","articleContainerRef","document","querySelector","newsFormRef","$8a1d1fbb88b9f958$var$newsApiSwrvice","constructor","this","searchQuery","page","fetchArticles","url","fetch","then","respons","json","articles","resetPage","query","newQuery","$8a1d1fbb88b9f958$var$loadMorButton","selector","hidden","refs","getRefs","hide","button","spiner","label","enable","textContent","classList","add","disable","remove","show","$8a1d1fbb88b9f958$var$appendArticleMarkup","map","article","title","urlToImage","author","description","join","console","log","addEventListener","e","preventDefault","currentTarget","elements","queryNews","value","alert","innerHTML","markup","insertAdjacentHTML"],"version":3,"file":"http.3763a01f.js.map"}